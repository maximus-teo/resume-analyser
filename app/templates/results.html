<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resume Analyser - Results</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <h1>Your Results</h1>
    <div class="results-container">
      <h1>Match Score: {{ score }}%</h1>
      <h3>Category: {{ job_category }}</h3>
      <p>
        Over 80%: Strong alignment of keywords, skills and experience with job
        requirements. Highly likely to be passed through ATS for human review.
      </p>
      <p>
        50-79%: Moderate compatibility between resume and job description. Quite
        likely to be passed through ATS if there are not many other applicants.
      </p>
      <p>
        Under 50%: Indicates significant gaps between resume and job
        description. Likely to be automatically filtered out by the ATS.
      </p>
      <p><strong>Keyword score:</strong> {{ keyword_score }}%</p>
      <p><strong>Density:</strong> {{ density }}%</p>
      <p><strong>Semantic score:</strong> {{ semantic_score }}%</p>

      <div class="keywords">
        {% if matched_keywords|length > 0 %}
        <h2>Matched Keywords</h2>
        <ul>
          {% for word in matched_keywords %}
          <li>{{ word }}</li>
          {% endfor %}
        </ul>
        {% endif %}
      </div>

      <div class="keywords-missing">
        {% if missing_keywords|length > 0 %}
        <h2>Missing Keywords</h2>
        <ul>
          {% for word, context in missing_keywords.items() %}
          <li>{{ word }}</li>
          <p><em>...{{ [context[0], "<b>" + word + "</b>", context[1]] | join(" ") | safe }}...</em></p>
          {% endfor %}
        </ul>
        {% endif %}
      </div>

      <a href="/" class="back-link">Analyse another resume</a>
    </div>
  </body>
</html>
